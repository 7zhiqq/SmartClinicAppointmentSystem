{% extends 'components/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/rate-doctor.css' %}">

{% if user.is_authenticated and user.role == "patient" %}
    {% include 'components/sidebar/patient.html' %}

    <div class="main-content">
        <h2 class="heading-title">Rate Dr. {{ doctor.user.get_full_name }}</h2>
        <p class="subtitle">Your feedback helps improve our service.</p>

        

        <form method="post" action="{% url 'submit_doctor_rating' doctor.id %}">
            {% csrf_token %}

            <div class="rating-stars">
                <label>Rate:</label>
                <div class="stars">
                    <!-- REVERSED ORDER: 5, 4, 3, 2, 1 -->
                    <input type="radio" name="rating" id="star5" value="5">
                    <label for="star5">★</label>

                    <input type="radio" name="rating" id="star4" value="4">
                    <label for="star4">★</label>

                    <input type="radio" name="rating" id="star3" value="3">
                    <label for="star3">★</label>

                    <input type="radio" name="rating" id="star2" value="2">
                    <label for="star2">★</label>

                    <input type="radio" name="rating" id="star1" value="1">
                    <label for="star1">★</label>
                </div>
            </div>

            <div class="rating-comment">
                <label for="comment">Comment (optional):</label>
                <textarea name="comment" id="comment" rows="4" placeholder="Write your feedback here..."></textarea>
            </div>

            <button type="submit" class="submit-btn">Submit Rating</button>
        </form>

        

        <a href="{% url 'view_doctors' %}" class="back-link">← Back to Doctors</a>
    </div>
{% else %}
    <p>Access denied.</p>
{% endif %}
{% endblock %}
